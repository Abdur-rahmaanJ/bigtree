

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>🌳 Big Tree Documentation &mdash; bigtree 0.5.3 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/twemoji.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Directed Acyclic Graph (DAG)" href="dag.html" />
        <meta name="description" content="Tree Implementation for Python, integrated with Python list, dictionary, and pandas DataFrame." lang="en" xml:lang="en">
        <meta name="keywords" content="Python, Tree, Bigtree">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Big Tree Documentation">
        <meta property="og:description" content="Tree Implementation for Python, integrated with Python list, dictionary, and pandas DataFrame.">
        <meta property="og:url" content="https://bigtree.readthedocs.io/">
        <meta property="og:image" content="https://i.ibb.co/T1G58Bk/favicon-big.png">
        <meta property="twitter:title" content="Big Tree Documentation">
        <meta property="twitter:description" content="Tree Implementation for Python, integrated with Python list, dictionary, and pandas DataFrame.">
        <meta property="twitter:image" content="https://i.ibb.co/T1G58Bk/favicon-big.png">
    

</head>

<body>
    <header>
        <div class="container">
            <a class="site-nav-toggle hidden-lg-up"><i class="icon-menu"></i></a>
            <a class="site-title" href="#">
                bigtree
            </a>
        </div>
    </header>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="#">Docs</a></li>
        
      <li>🌳 Big Tree Documentation</li>
    
    
      <li class="breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
</div>
    </div>
</div>
        
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul>
<li class="toctree-l1"><a class="reference internal" href="dag.html">Directed Acyclic Graph (DAG)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bigtree/dag/construct.html">✨ Construct</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/dag/export.html">🔨 Export</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="node.html">Node</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bigtree/node/basenode.html">🌱 BaseNode</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/node/node.html">🌺 Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/node/dagnode.html">🌼 DAGNode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tree.html">Tree</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bigtree/tree/construct.html">✨ Construct</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/tree/export.html">🔨 Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/tree/helper.html">🔧 Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/tree/modify.html">📝 Modify</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/tree/search.html">🔍 Search</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bigtree/utils/iterators.html">➰ Iterators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bigtree/workflows/app_todo.html">✔️ To Do App</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="others.html">Others</a><ul>
<li class="toctree-l2"><a class="reference internal" href="others/tips.html">💡 Tips and Tricks</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <section id="deciduous-tree-big-tree-documentation">
<h1>🌳 Big Tree Documentation<a class="headerlink" href="#deciduous-tree-big-tree-documentation" title="Permalink to this heading">¶</a></h1>
<a class="reference external image-reference" href="https://badge.fury.io/py/bigtree"><img alt="python-version" src="https://badge.fury.io/py/bigtree.svg" /></a>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/bigtree"><img alt="python-compatibility" src="https://img.shields.io/pypi/pyversions/bigtree.svg" /></a>
<a class="reference external image-reference" href="https://bigtree.readthedocs.io/en/latest/?badge=latest"><img alt="Documentation Status" src="https://readthedocs.org/projects/bigtree/badge/?version=latest" /></a>
<a class="reference external image-reference" href="https://codecov.io/gh/kayjan/bigtree"><img alt="code-coverage" src="https://codecov.io/github/kayjan/bigtree/branch/master/graph/badge.svg?token=O5gyTsGIiw" /></a>
<a class="reference external image-reference" href="https://github.com/kayjan/bigtree/actions/workflows/pytest.yml"><img alt="github-workflows" src="https://github.com/kayjan/bigtree/actions/workflows/pytest.yml/badge.svg" /></a>
<img alt="license" src="https://img.shields.io/static/v1?label=license&amp;message=MIT&amp;color=blue" />
<img alt="black" src="https://img.shields.io/static/v1?label=style&amp;message=black&amp;color=black" />
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="dag.html">Directed Acyclic Graph (DAG)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bigtree/dag/construct.html">✨ Construct</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/dag/export.html">🔨 Export</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="node.html">Node</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bigtree/node/basenode.html">🌱 BaseNode</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/node/node.html">🌺 Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/node/dagnode.html">🌼 DAGNode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tree.html">Tree</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bigtree/tree/construct.html">✨ Construct</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/tree/export.html">🔨 Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/tree/helper.html">🔧 Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/tree/modify.html">📝 Modify</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigtree/tree/search.html">🔍 Search</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bigtree/utils/iterators.html">➰ Iterators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bigtree/workflows/app_todo.html">✔️ To Do App</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="others.html">Others</a><ul>
<li class="toctree-l2"><a class="reference internal" href="others/tips.html">💡 Tips and Tricks</a></li>
</ul>
</li>
</ul>
</div>
<section id="big-tree-python-package">
<h2>Big Tree Python Package<a class="headerlink" href="#big-tree-python-package" title="Permalink to this heading">¶</a></h2>
<p>Tree Implementation for Python, integrated with Python list, dictionary, and pandas DataFrame.</p>
<p>It is pythonic, making it easy to learn and extendable to many types of workflows.</p>
<hr class="docutils" />
<p>Related Links:</p>
<ul>
<li><p><a class="reference external" href="https://bigtree.readthedocs.io/en/latest/">Documentation</a></p></li>
<li><p><a class="reference external" href="https://github.com/kayjan/bigtree/">GitHub</a></p></li>
<li><p><a class="reference external" href="https://github.com/kayjan/bigtree/blob/master/CHANGELOG.md">Changelog</a></p></li>
<li><p><a class="reference external" href="https://github.com/kayjan/bigtree/issues">Issues</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/bigtree/">PyPI</a></p></li>
<li><p>Articles</p>
<ul class="simple">
<li><p><a class="reference external" href="https://towardsdatascience.com/python-tree-implementation-with-bigtree-13cdabd77adc#245a-94ae81f0b3f1">Python Tree Implementation with BigTree</a></p></li>
</ul>
</li>
<li><div><p>If you want to support bigtree, <a href="https://www.buymeacoffee.com/kayjan"><img src="https://img.shields.io/badge/Buy_Me_A_Coffee-FFDD00?style=for-the-badge&logo=buy-me-a-coffee&logoColor=black" alt="Buy Me a Coffee" style="vertical-align:middle"></a></p></div>
</li>
</ul>
<hr class="docutils" />
<section id="components">
<h3>Components<a class="headerlink" href="#components" title="Permalink to this heading">¶</a></h3>
<p>There are 2 segments to Big Tree consisting of Tree implementation and Directed Acyclic Graph (DAG) implementation.</p>
<p>For Tree implementation, there are 8 main components.</p>
<ol class="arabic simple">
<li><p><strong>Node</strong></p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BaseNode</span></code>, extendable class</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Node</span></code>, BaseNode with node name attribute</p></li>
</ol>
</li>
<li><p><strong>Constructing Tree</strong></p>
<ol class="arabic simple">
<li><p>From <em>list</em>, using paths or parent-child tuples</p></li>
<li><p>From <em>nested dictionary</em>, using path or recursive structure</p></li>
<li><p>From <em>pandas DataFrame</em>, using paths or parent-child columns</p></li>
<li><p>Add nodes to existing tree using string</p></li>
<li><p>Add nodes and attributes to existing tree using dictionary or pandas DataFrame, using path</p></li>
<li><p>Add only attributes to existing tree using dictionary or pandas DataFrame, using node name</p></li>
</ol>
</li>
<li><p><strong>Traversing Tree</strong></p>
<ol class="arabic simple">
<li><p>Pre-Order Traversal</p></li>
<li><p>Post-Order Traversal</p></li>
<li><p>Level-Order Traversal</p></li>
<li><p>Level-Order-Group Traversal</p></li>
</ol>
</li>
<li><p><strong>Modifying Tree</strong></p>
<ol class="arabic simple">
<li><p>Shift nodes from location to destination</p></li>
<li><p>Copy nodes from location to destination</p></li>
<li><p>Copy nodes from one tree to another</p></li>
</ol>
</li>
<li><p><strong>Tree Search</strong></p>
<ol class="arabic simple">
<li><p>Find multiple nodes based on name, partial path, attribute value, user-defined condition</p></li>
<li><p>Find single nodes based on name, path, attribute value, user-defined condition</p></li>
<li><p>Find multiple child nodes based on attribute value, user-defined condition</p></li>
<li><p>Find single child node based on name</p></li>
</ol>
</li>
<li><p><strong>Helper Function</strong></p>
<ol class="arabic simple">
<li><p>Cloning tree to another <code class="docutils literal notranslate"><span class="pre">Node</span></code> type</p></li>
<li><p>Prune tree</p></li>
<li><p>Get difference between two trees</p></li>
</ol>
</li>
<li><p><strong>Exporting Tree</strong></p>
<ol class="arabic simple">
<li><p>Print to console</p></li>
<li><p>Export to <em>dictionary</em>, <em>nested dictionary</em>, or <em>pandas DataFrame</em></p></li>
<li><p>Export tree to dot (can save to .dot, .png, .svg, .jpeg files)</p></li>
</ol>
</li>
<li><p><strong>Workflows</strong></p>
<ol class="arabic simple">
<li><p>Sample workflows for tree demonstration!</p></li>
</ol>
</li>
</ol>
<p>For Directed Acyclic Graph (DAG) implementation, there are 4 main components.</p>
<ol class="arabic simple">
<li><p><strong>Node</strong></p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DAGNode</span></code>, extendable class for constructing Directed Acyclic Graph (DAG)</p></li>
</ol>
</li>
<li><p><strong>Constructing DAG</strong></p>
<ol class="arabic simple">
<li><p>From <em>list</em>, containing parent-child tuples</p></li>
<li><p>From <em>nested dictionary</em></p></li>
<li><p>From <em>pandas DataFrame</em></p></li>
</ol>
</li>
<li><p><strong>Traversing DAG</strong></p>
<ol class="arabic simple">
<li><p>Generic traversal method</p></li>
</ol>
</li>
<li><p><strong>Exporting DAG</strong></p>
<ol class="arabic simple">
<li><p>Export to <em>list</em>, <em>dictionary</em>, or <em>pandas DataFrame</em></p></li>
<li><p>Export DAG to dot (can save to .dot, .png, .svg, .jpeg files)</p></li>
</ol>
</li>
</ol>
</section>
<section id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h3>
<p>To install <code class="docutils literal notranslate"><span class="pre">bigtree</span></code>, run the following line in command prompt:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ pip install bigtree
</pre></div>
</div>
<p>If tree needs to be exported to image, it requires additional dependencies.
Run the following lines in command prompt:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ pip install <span class="s1">&#39;bigtree[image]&#39;</span>
$ brew install gprof2dot
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="tree-demonstration">
<h3>Tree Demonstration<a class="headerlink" href="#tree-demonstration" title="Permalink to this heading">¶</a></h3>
<p>Here are some codes to getting started.</p>
<section id="construct-tree">
<h4>Construct Tree<a class="headerlink" href="#construct-tree" title="Permalink to this heading">¶</a></h4>
<p>Nodes can have attributes if they are initialized from <code class="docutils literal notranslate"><span class="pre">Node</span></code>, <em>dictionary</em>, or <em>pandas DataFrame</em>.</p>
<ol class="arabic simple">
<li><p><strong>From <code class="docutils literal notranslate"><span class="pre">Node</span></code></strong></p></li>
</ol>
<p>Nodes can be linked to each other with <code class="docutils literal notranslate"><span class="pre">parent</span></code> and <code class="docutils literal notranslate"><span class="pre">children</span></code> setter methods,
or using bitshift operator with the convention <code class="docutils literal notranslate"><span class="pre">parent_node</span> <span class="pre">&gt;&gt;</span> <span class="pre">child_node</span></code> or <code class="docutils literal notranslate"><span class="pre">child_node</span> <span class="pre">&lt;&lt;</span> <span class="pre">parent_node</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">print_tree</span><span class="p">,</span> <span class="n">tree_to_dot</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">65</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>

<span class="n">root</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">]</span>
<span class="n">d</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">b</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">attr_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">])</span>
<span class="c1"># a [age=90]</span>
<span class="c1"># ├── b [age=65]</span>
<span class="c1"># │   └── d [age=40]</span>
<span class="c1"># └── c [age=60]</span>

<span class="n">graph</span> <span class="o">=</span> <span class="n">tree_to_dot</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">node_colour</span><span class="o">=</span><span class="s2">&quot;gold&quot;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">write_png</span><span class="p">(</span><span class="s2">&quot;assets/tree.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="Sample Tree Output" src="_images/tree.png" /></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">print_tree</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">65</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>

<span class="n">root</span> <span class="o">&gt;&gt;</span> <span class="n">b</span>
<span class="n">root</span> <span class="o">&gt;&gt;</span> <span class="n">c</span>
<span class="n">d</span> <span class="o">&lt;&lt;</span> <span class="n">b</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">attr_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">])</span>
<span class="c1"># a [age=90]</span>
<span class="c1"># ├── b [age=65]</span>
<span class="c1"># │   └── d [age=40]</span>
<span class="c1"># └── c [age=60]</span>
</pre></div>
</div>
<p>Alternatively, we can directly pass <code class="docutils literal notranslate"><span class="pre">parent</span></code> or <code class="docutils literal notranslate"><span class="pre">children</span></code> argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">print_tree</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># |-- b</span>
<span class="c1"># |   +-- d</span>
<span class="c1"># +-- c</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">print_tree</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">d</span><span class="p">])</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">])</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># |-- b</span>
<span class="c1"># |   +-- d</span>
<span class="c1"># +-- c</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>From <em>list</em></strong></p></li>
</ol>
<p>Construct nodes only, list can contain either full paths or tuples of parent-child names.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">list_to_tree</span><span class="p">,</span> <span class="n">list_to_tree_by_relation</span><span class="p">,</span> <span class="n">print_tree</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">list_to_tree</span><span class="p">([</span><span class="s2">&quot;a/b/d&quot;</span><span class="p">,</span> <span class="s2">&quot;a/c&quot;</span><span class="p">])</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># │   └── d</span>
<span class="c1"># └── c</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">list_to_tree_by_relation</span><span class="p">([(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">)])</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># │   └── d</span>
<span class="c1"># └── c</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>From <em>nested dictionary</em></strong></p></li>
</ol>
<p>Construct nodes with attributes, <code class="docutils literal notranslate"><span class="pre">key</span></code>: path, <code class="docutils literal notranslate"><span class="pre">value</span></code>: dict of node attribute names and attribute values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">dict_to_tree</span><span class="p">,</span> <span class="n">print_tree</span>

<span class="n">path_dict</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">90</span><span class="p">},</span>
   <span class="s2">&quot;a/b&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">65</span><span class="p">},</span>
   <span class="s2">&quot;a/c&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">},</span>
   <span class="s2">&quot;a/b/d&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">40</span><span class="p">},</span>
<span class="p">}</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">dict_to_tree</span><span class="p">(</span><span class="n">path_dict</span><span class="p">)</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">attr_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">])</span>
<span class="c1"># a [age=90]</span>
<span class="c1"># ├── b [age=65]</span>
<span class="c1"># │   └── d [age=40]</span>
<span class="c1"># └── c [age=60]</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p><strong>From <em>nested recursive dictionary</em></strong></p></li>
</ol>
<p>Construct nodes with attributes, <code class="docutils literal notranslate"><span class="pre">key</span></code>: node attribute names, <code class="docutils literal notranslate"><span class="pre">value</span></code>: node attribute values, and list of
children (recursive).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">nested_dict_to_tree</span><span class="p">,</span> <span class="n">print_tree</span>

<span class="n">path_dict</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span>
   <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
   <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span>
         <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">65</span><span class="p">,</span>
         <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">40</span><span class="p">},</span>
         <span class="p">],</span>
      <span class="p">},</span>
      <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">},</span>
   <span class="p">],</span>
<span class="p">}</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">nested_dict_to_tree</span><span class="p">(</span><span class="n">path_dict</span><span class="p">)</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">attr_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">])</span>
<span class="c1"># a [age=90]</span>
<span class="c1"># ├── b [age=65]</span>
<span class="c1"># │   └── d [age=40]</span>
<span class="c1"># └── c [age=60]</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p><strong>From <em>pandas DataFrame</em></strong></p></li>
</ol>
<p>Construct nodes with attributes, <em>pandas DataFrame</em> can contain either path column or parent-child columns,
and attribute columns.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">dataframe_to_tree</span><span class="p">,</span> <span class="n">dataframe_to_tree_by_relation</span><span class="p">,</span> <span class="n">print_tree</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
   <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;a/b&quot;</span><span class="p">,</span> <span class="mi">65</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;a/c&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;a/b/d&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span>
   <span class="p">],</span>
   <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">dataframe_to_tree</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">attr_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">])</span>
<span class="c1"># a [age=90]</span>
<span class="c1"># ├── b [age=65]</span>
<span class="c1"># │   └── d [age=40]</span>
<span class="c1"># └── c [age=60]</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
   <span class="p">[</span>
      <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">65</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>
      <span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span>
   <span class="p">],</span>
   <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;child&quot;</span><span class="p">,</span> <span class="s2">&quot;parent&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">dataframe_to_tree_by_relation</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">attr_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">])</span>
<span class="c1"># a [age=90]</span>
<span class="c1"># ├── b [age=65]</span>
<span class="c1"># │   └── d [age=40]</span>
<span class="c1"># └── c [age=60]</span>
</pre></div>
</div>
<blockquote>
<div><p>If tree is already created, attributes can still be added using dictionary or pandas DataFrame!</p>
</div></blockquote>
</section>
<section id="print-tree">
<h4>Print Tree<a class="headerlink" href="#print-tree" title="Permalink to this heading">¶</a></h4>
<p>After tree is constructed, it can be viewed by printing to console using <code class="docutils literal notranslate"><span class="pre">print_tree</span></code> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">print_tree</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># │   ├── d</span>
<span class="c1"># │   └── e</span>
<span class="c1"># └── c</span>

<span class="c1"># Print sub-tree</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">node_name_or_path</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="c1"># b</span>
<span class="c1"># ├── d</span>
<span class="c1"># └── e</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># └── c</span>

<span class="c1"># Print attributes</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">attr_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">])</span>
<span class="c1"># a [age=90]</span>
<span class="c1"># ├── b [age=65]</span>
<span class="c1"># │   ├── d [age=40]</span>
<span class="c1"># │   └── e [age=35]</span>
<span class="c1"># └── c [age=60]</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">attr_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">],</span> <span class="n">attr_bracket_open</span><span class="o">=</span><span class="s2">&quot;*(&quot;</span><span class="p">,</span> <span class="n">attr_bracket_close</span><span class="o">=</span><span class="s2">&quot;)&quot;</span><span class="p">)</span>
<span class="c1"># a *(age=90)</span>
<span class="c1"># ├── b *(age=65)</span>
<span class="c1"># │   ├── d *(age=40)</span>
<span class="c1"># │   └── e *(age=35)</span>
<span class="c1"># └── c *(age=60)</span>

<span class="c1"># Available styles</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;ansi&quot;</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># |-- b</span>
<span class="c1"># |   |-- d</span>
<span class="c1"># |   `-- e</span>
<span class="c1"># `-- c</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># |-- b</span>
<span class="c1"># |   |-- d</span>
<span class="c1"># |   +-- e</span>
<span class="c1"># +-- c</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;const&quot;</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># │   ├── d</span>
<span class="c1"># │   └── e</span>
<span class="c1"># └── c</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;const_bold&quot;</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ┣━━ b</span>
<span class="c1"># ┃   ┣━━ d</span>
<span class="c1"># ┃   ┗━━ e</span>
<span class="c1"># ┗━━ c</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;rounded&quot;</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># │   ├── d</span>
<span class="c1"># │   ╰── e</span>
<span class="c1"># ╰── c</span>

<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;double&quot;</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ╠══ b</span>
<span class="c1"># ║   ╠══ d</span>
<span class="c1"># ║   ╚══ e</span>
<span class="c1"># ╚══ c</span>

<span class="n">print_tree</span><span class="p">(</span>
    <span class="n">root</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;custom&quot;</span><span class="p">,</span>
    <span class="n">style_stem</span><span class="o">=</span><span class="s2">&quot;|   &quot;</span><span class="p">,</span> <span class="n">style_branch</span><span class="o">=</span><span class="s2">&quot;|-- &quot;</span><span class="p">,</span> <span class="n">style_stem_final</span><span class="o">=</span><span class="s2">&quot;+-- &quot;</span>
<span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># |-- b</span>
<span class="c1"># |   |-- d</span>
<span class="c1"># |   +-- e</span>
<span class="c1"># +-- c</span>
</pre></div>
</div>
</section>
<section id="modify-tree">
<h4>Modify Tree<a class="headerlink" href="#modify-tree" title="Permalink to this heading">¶</a></h4>
<p>Nodes can be shifted or copied from one path to another.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">shift_nodes</span><span class="p">,</span> <span class="n">print_tree</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># ├── c</span>
<span class="c1"># └── d</span>

<span class="n">shift_nodes</span><span class="p">(</span>
   <span class="n">tree</span><span class="o">=</span><span class="n">root</span><span class="p">,</span>
   <span class="n">from_paths</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a/c&quot;</span><span class="p">,</span> <span class="s2">&quot;a/d&quot;</span><span class="p">],</span>
   <span class="n">to_paths</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a/b/c&quot;</span><span class="p">,</span> <span class="s2">&quot;a/dummy/d&quot;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># │   └── c</span>
<span class="c1"># └── dummy</span>
<span class="c1">#     └── d</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">copy_nodes</span><span class="p">,</span> <span class="n">print_tree</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># ├── c</span>
<span class="c1"># └── d</span>

<span class="n">copy_nodes</span><span class="p">(</span>
   <span class="n">tree</span><span class="o">=</span><span class="n">root</span><span class="p">,</span>
   <span class="n">from_paths</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a/c&quot;</span><span class="p">,</span> <span class="s2">&quot;a/d&quot;</span><span class="p">],</span>
   <span class="n">to_paths</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a/b/c&quot;</span><span class="p">,</span> <span class="s2">&quot;a/dummy/d&quot;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># │   └── c</span>
<span class="c1"># ├── c</span>
<span class="c1"># ├── d</span>
<span class="c1"># └── dummy</span>
<span class="c1">#     └── d</span>
</pre></div>
</div>
<p>Nodes can also be copied between two different trees.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">copy_nodes_from_tree_to_tree</span><span class="p">,</span> <span class="n">print_tree</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># ├── c</span>
<span class="c1"># └── d</span>

<span class="n">root_other</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;aa&quot;</span><span class="p">)</span>
<span class="n">copy_nodes_from_tree_to_tree</span><span class="p">(</span>
   <span class="n">from_tree</span><span class="o">=</span><span class="n">root</span><span class="p">,</span>
   <span class="n">to_tree</span><span class="o">=</span><span class="n">root_other</span><span class="p">,</span>
   <span class="n">from_paths</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a/b&quot;</span><span class="p">,</span> <span class="s2">&quot;a/c&quot;</span><span class="p">,</span> <span class="s2">&quot;a/d&quot;</span><span class="p">],</span>
   <span class="n">to_paths</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;aa/b&quot;</span><span class="p">,</span> <span class="s2">&quot;aa/b/c&quot;</span><span class="p">,</span> <span class="s2">&quot;aa/dummy/d&quot;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root_other</span><span class="p">)</span>
<span class="c1"># aa</span>
<span class="c1"># ├── b</span>
<span class="c1"># │   └── c</span>
<span class="c1"># └── dummy</span>
<span class="c1">#     └── d</span>
</pre></div>
</div>
</section>
<section id="tree-search">
<h4>Tree Search<a class="headerlink" href="#tree-search" title="Permalink to this heading">¶</a></h4>
<p>One or multiple nodes can be search based on name, path, attribute value, or user-defined condition.</p>
<p>To find a single node,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">print_tree</span><span class="p">,</span> <span class="n">find</span><span class="p">,</span> <span class="n">find_name</span><span class="p">,</span> <span class="n">find_path</span><span class="p">,</span> <span class="n">find_full_path</span><span class="p">,</span> <span class="n">find_attr</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">attr_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">])</span>
<span class="c1"># a [age=90]</span>
<span class="c1"># ├── b [age=65]</span>
<span class="c1"># └── c [age=60]</span>
<span class="c1">#     └── d [age=40]</span>

<span class="n">find</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">node</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">age</span> <span class="o">==</span> <span class="mi">60</span><span class="p">)</span>
<span class="c1"># Node(/a/c, age=60)</span>

<span class="n">find_name</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">)</span>
<span class="c1"># Node(/a/c/d, age=40)</span>

<span class="n">find_path</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;/c/d&quot;</span><span class="p">)</span>  <span class="c1"># partial path</span>
<span class="c1"># Node(/a/c/d, age=40)</span>

<span class="n">find_full_path</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;a/c/d&quot;</span><span class="p">)</span>  <span class="c1"># full path</span>
<span class="c1"># Node(/a/c/d, age=40)</span>

<span class="n">find_attr</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="c1"># Node(/a/c/d, age=40)</span>
</pre></div>
</div>
<p>To find multiple nodes,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">print_tree</span><span class="p">,</span> <span class="n">findall</span><span class="p">,</span> <span class="n">find_names</span><span class="p">,</span> <span class="n">find_paths</span><span class="p">,</span> <span class="n">find_attrs</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">c</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">attr_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">])</span>
<span class="c1"># a [age=90]</span>
<span class="c1"># ├── b [age=65]</span>
<span class="c1"># └── c [age=65]</span>
<span class="c1">#     └── c [age=40]</span>

<span class="n">findall</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">node</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">age</span> <span class="o">==</span> <span class="mi">65</span><span class="p">)</span>
<span class="c1"># (Node(/a/b, age=65), Node(/a/c, age=65))</span>

<span class="n">find_names</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">)</span>
<span class="c1"># (Node(/a/c, age=65), Node(/a/c/c, age=40))</span>

<span class="n">find_paths</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;/c&quot;</span><span class="p">)</span>  <span class="c1"># partial path</span>
<span class="c1"># (Node(/a/c, age=65), Node(/a/c/c, age=40))</span>

<span class="n">find_attrs</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="c1"># (Node(/a/c/c, age=40),)</span>
</pre></div>
</div>
</section>
<section id="helper-utility">
<h4>Helper Utility<a class="headerlink" href="#helper-utility" title="Permalink to this heading">¶</a></h4>
<p>There following are helper functions for cloning tree to another <code class="docutils literal notranslate"><span class="pre">Node</span></code> type, pruning tree, and getting difference
between two trees.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">BaseNode</span><span class="p">,</span> <span class="n">Node</span><span class="p">,</span> <span class="n">print_tree</span><span class="p">,</span> <span class="n">clone_tree</span><span class="p">,</span> <span class="n">prune_tree</span><span class="p">,</span> <span class="n">get_tree_diff</span>

<span class="c1"># Cloning tree from `BaseNode` to `Node` type</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">BaseNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">BaseNode</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">clone_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">Node</span><span class="p">)</span>
<span class="c1"># Node(/a, )</span>

<span class="c1"># Prune tree to only path a/b</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># └── c</span>

<span class="n">root_pruned</span> <span class="o">=</span> <span class="n">prune_tree</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;a/b&quot;</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root_pruned</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># └── b</span>

<span class="c1"># Get difference between two trees</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># └── c</span>

<span class="n">root_other</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">b_other</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root_other</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root_other</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># └── b</span>

<span class="n">tree_diff</span> <span class="o">=</span> <span class="n">get_tree_diff</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">root_other</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">tree_diff</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># └── c (-)</span>
</pre></div>
</div>
</section>
<section id="export-tree">
<h4>Export Tree<a class="headerlink" href="#export-tree" title="Permalink to this heading">¶</a></h4>
<p>Tree can be exported to another data type.</p>
<ol class="arabic simple">
<li><p><em>Export to <strong>nested dictionary</strong></em></p></li>
<li><p><em>Export to <strong>nested recursive dictionary</strong></em></p></li>
<li><p><em>Export to <strong>pandas DataFrame</strong></em></p></li>
<li><p><em>Export to <strong>dot</strong> (and png)</em></p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">Node</span><span class="p">,</span> <span class="n">print_tree</span><span class="p">,</span> <span class="n">tree_to_dict</span><span class="p">,</span> <span class="n">tree_to_nested_dict</span><span class="p">,</span> <span class="n">tree_to_dataframe</span><span class="p">,</span> <span class="n">tree_to_dot</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="n">print_tree</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="c1"># a</span>
<span class="c1"># ├── b</span>
<span class="c1"># │   ├── d</span>
<span class="c1"># │   └── e</span>
<span class="c1"># └── c</span>

<span class="n">tree_to_dict</span><span class="p">(</span>
   <span class="n">root</span><span class="p">,</span>
   <span class="n">name_key</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
   <span class="n">parent_key</span><span class="o">=</span><span class="s2">&quot;parent&quot;</span><span class="p">,</span>
   <span class="n">attr_dict</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="s2">&quot;person age&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="c1"># {</span>
<span class="c1">#    &#39;/a&#39;: {&#39;name&#39;: &#39;a&#39;, &#39;parent&#39;: None, &#39;person age&#39;: 90},</span>
<span class="c1">#    &#39;/a/b&#39;: {&#39;name&#39;: &#39;b&#39;, &#39;parent&#39;: &#39;a&#39;, &#39;person age&#39;: 65},</span>
<span class="c1">#    &#39;/a/b/d&#39;: {&#39;name&#39;: &#39;d&#39;, &#39;parent&#39;: &#39;b&#39;, &#39;person age&#39;: 40},</span>
<span class="c1">#    &#39;/a/b/e&#39;: {&#39;name&#39;: &#39;e&#39;, &#39;parent&#39;: &#39;b&#39;, &#39;person age&#39;: 35},</span>
<span class="c1">#    &#39;/a/c&#39;: {&#39;name&#39;: &#39;c&#39;, &#39;parent&#39;: &#39;a&#39;, &#39;person age&#39;: 60}</span>
<span class="c1"># }</span>

<span class="n">tree_to_nested_dict</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">all_attrs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># {</span>
<span class="c1">#    &#39;name&#39;: &#39;a&#39;,</span>
<span class="c1">#    &#39;age&#39;: 90,</span>
<span class="c1">#    &#39;children&#39;: [</span>
<span class="c1">#       {</span>
<span class="c1">#          &#39;name&#39;: &#39;b&#39;,</span>
<span class="c1">#          &#39;age&#39;: 65,</span>
<span class="c1">#          &#39;children&#39;: [</span>
<span class="c1">#             {</span>
<span class="c1">#                &#39;name&#39;: &#39;d&#39;,</span>
<span class="c1">#                &#39;age&#39;: 40</span>
<span class="c1">#             },</span>
<span class="c1">#             {</span>
<span class="c1">#                &#39;name&#39;: &#39;e&#39;,</span>
<span class="c1">#                &#39;age&#39;: 35</span>
<span class="c1">#             }</span>
<span class="c1">#          ]</span>
<span class="c1">#       },</span>
<span class="c1">#       {</span>
<span class="c1">#          &#39;name&#39;: &#39;c&#39;,</span>
<span class="c1">#          &#39;age&#39;: 60</span>
<span class="c1">#       }</span>
<span class="c1">#    ]</span>
<span class="c1"># }</span>

<span class="n">tree_to_dataframe</span><span class="p">(</span>
   <span class="n">root</span><span class="p">,</span>
   <span class="n">name_col</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
   <span class="n">parent_col</span><span class="o">=</span><span class="s2">&quot;parent&quot;</span><span class="p">,</span>
   <span class="n">path_col</span><span class="o">=</span><span class="s2">&quot;path&quot;</span><span class="p">,</span>
   <span class="n">attr_dict</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="s2">&quot;person age&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="c1">#      path name parent  person age</span>
<span class="c1"># 0      /a    a   None          90</span>
<span class="c1"># 1    /a/b    b      a          65</span>
<span class="c1"># 2  /a/b/d    d      b          40</span>
<span class="c1"># 3  /a/b/e    e      b          35</span>
<span class="c1"># 4    /a/c    c      a          60</span>

<span class="n">graph</span> <span class="o">=</span> <span class="n">tree_to_dot</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">node_colour</span><span class="o">=</span><span class="s2">&quot;gold&quot;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">write_png</span><span class="p">(</span><span class="s2">&quot;assets/demo.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="Sample Tree Output" src="_images/demo.png" /></p>
</section>
</section>
<hr class="docutils" />
<section id="dag-demonstration">
<h3>DAG Demonstration<a class="headerlink" href="#dag-demonstration" title="Permalink to this heading">¶</a></h3>
<p>Compared to nodes in tree, nodes in DAG are able to have multiple parents.</p>
<section id="construct-dag">
<h4>Construct DAG<a class="headerlink" href="#construct-dag" title="Permalink to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p><strong>From <code class="docutils literal notranslate"><span class="pre">DAGNode</span></code></strong></p></li>
</ol>
<p>DAGNode can be linked to each other with <code class="docutils literal notranslate"><span class="pre">parents</span></code> and <code class="docutils literal notranslate"><span class="pre">children</span></code> setter methods,
or using bitshift operator with the convention <code class="docutils literal notranslate"><span class="pre">parent_node</span> <span class="pre">&gt;&gt;</span> <span class="pre">child_node</span></code> or <code class="docutils literal notranslate"><span class="pre">child_node</span> <span class="pre">&lt;&lt;</span> <span class="pre">parent_node</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">DAGNode</span><span class="p">,</span> <span class="n">dag_to_dot</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">DAGNode</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">DAGNode</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">DAGNode</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">])</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">DAGNode</span><span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">])</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">DAGNode</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">d</span><span class="p">])</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">DAGNode</span><span class="p">(</span><span class="s2">&quot;f&quot;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">])</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">DAGNode</span><span class="p">(</span><span class="s2">&quot;h&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">DAGNode</span><span class="p">(</span><span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="n">parents</span><span class="o">=</span><span class="p">[</span><span class="n">c</span><span class="p">],</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">h</span><span class="p">])</span>

<span class="n">graph</span> <span class="o">=</span> <span class="n">dag_to_dot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">node_colour</span><span class="o">=</span><span class="s2">&quot;gold&quot;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">write_png</span><span class="p">(</span><span class="s2">&quot;assets/demo_dag.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="Sample DAG Output" src="_images/demo_dag.png" /></p>
<ol class="arabic simple" start="2">
<li><p><strong>From <em>list</em></strong></p></li>
</ol>
<p>Construct nodes only, list contains parent-child tuples.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">list_to_dag</span><span class="p">,</span> <span class="n">dag_iterator</span>

<span class="n">relations_list</span> <span class="o">=</span> <span class="p">[</span>
   <span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">),</span>
   <span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">),</span>
   <span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">),</span>
   <span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">),</span>
   <span class="p">(</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">)</span>
<span class="p">]</span>
<span class="n">dag</span> <span class="o">=</span> <span class="n">list_to_dag</span><span class="p">(</span><span class="n">relations_list</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([(</span><span class="n">parent</span><span class="o">.</span><span class="n">node_name</span><span class="p">,</span> <span class="n">child</span><span class="o">.</span><span class="n">node_name</span><span class="p">)</span> <span class="k">for</span> <span class="n">parent</span><span class="p">,</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">dag_iterator</span><span class="p">(</span><span class="n">dag</span><span class="p">)])</span>
<span class="c1"># [(&#39;a&#39;, &#39;d&#39;), (&#39;c&#39;, &#39;d&#39;), (&#39;d&#39;, &#39;e&#39;), (&#39;a&#39;, &#39;c&#39;), (&#39;b&#39;, &#39;c&#39;)]</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>From <em>nested dictionary</em></strong></p></li>
</ol>
<p>Construct nodes with attributes, <code class="docutils literal notranslate"><span class="pre">key</span></code>: child name, <code class="docutils literal notranslate"><span class="pre">value</span></code>: dict of parent name, child node attributes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">dict_to_dag</span><span class="p">,</span> <span class="n">dag_iterator</span>

<span class="n">relation_dict</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
   <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
   <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
   <span class="s2">&quot;d&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">],</span> <span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
   <span class="s2">&quot;e&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">],</span> <span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<span class="p">}</span>
<span class="n">dag</span> <span class="o">=</span> <span class="n">dict_to_dag</span><span class="p">(</span><span class="n">relation_dict</span><span class="p">,</span> <span class="n">parent_key</span><span class="o">=</span><span class="s2">&quot;parent&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([(</span><span class="n">parent</span><span class="o">.</span><span class="n">node_name</span><span class="p">,</span> <span class="n">child</span><span class="o">.</span><span class="n">node_name</span><span class="p">)</span> <span class="k">for</span> <span class="n">parent</span><span class="p">,</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">dag_iterator</span><span class="p">(</span><span class="n">dag</span><span class="p">)])</span>
<span class="c1"># [(&#39;a&#39;, &#39;d&#39;), (&#39;c&#39;, &#39;d&#39;), (&#39;d&#39;, &#39;e&#39;), (&#39;a&#39;, &#39;c&#39;), (&#39;b&#39;, &#39;c&#39;)]</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p><strong>From <em>pandas DataFrame</em></strong></p></li>
</ol>
<p>Construct nodes with attributes, <em>pandas DataFrame</em> contains child column, parent column, and attribute columns.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">dataframe_to_dag</span><span class="p">,</span> <span class="n">dag_iterator</span>

<span class="n">path_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span>
   <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
   <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
   <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
   <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
   <span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
   <span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
   <span class="p">[</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="p">],</span>
   <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;child&quot;</span><span class="p">,</span> <span class="s2">&quot;parent&quot;</span><span class="p">,</span> <span class="s2">&quot;step&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">dag</span> <span class="o">=</span> <span class="n">dataframe_to_dag</span><span class="p">(</span><span class="n">path_data</span><span class="p">)</span>
<span class="nb">print</span><span class="p">([(</span><span class="n">parent</span><span class="o">.</span><span class="n">node_name</span><span class="p">,</span> <span class="n">child</span><span class="o">.</span><span class="n">node_name</span><span class="p">)</span> <span class="k">for</span> <span class="n">parent</span><span class="p">,</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">dag_iterator</span><span class="p">(</span><span class="n">dag</span><span class="p">)])</span>
<span class="c1"># [(&#39;a&#39;, &#39;d&#39;), (&#39;c&#39;, &#39;d&#39;), (&#39;d&#39;, &#39;e&#39;), (&#39;a&#39;, &#39;c&#39;), (&#39;b&#39;, &#39;c&#39;)]</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="demo-usage">
<h3>Demo Usage<a class="headerlink" href="#demo-usage" title="Permalink to this heading">¶</a></h3>
<section id="to-do-application">
<h4>To Do Application<a class="headerlink" href="#to-do-application" title="Permalink to this heading">¶</a></h4>
<p>There is existing implementation of a To-Do app to showcase how <code class="docutils literal notranslate"><span class="pre">bigtree</span></code> can be used. There are functions to:</p>
<ul class="simple">
<li><p>Add or remove list to To-Do application</p></li>
<li><p>Add or remove item to list, default list is the 'General' list</p></li>
<li><p>Prioritize a list/item by reordering them as first list/item</p></li>
<li><p>Save and import To-Do application to and from an external JSON file</p></li>
<li><p>Show To-Do application, which prints tree to console</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bigtree</span> <span class="kn">import</span> <span class="n">AppToDo</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">AppToDo</span><span class="p">(</span><span class="s2">&quot;To Do App&quot;</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">item_name</span><span class="o">=</span><span class="s2">&quot;Homework 1&quot;</span><span class="p">,</span> <span class="n">list_name</span><span class="o">=</span><span class="s2">&quot;School&quot;</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">item_name</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Milk&quot;</span><span class="p">,</span> <span class="s2">&quot;Bread&quot;</span><span class="p">],</span> <span class="n">list_name</span><span class="o">=</span><span class="s2">&quot;Groceries&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Urgent&quot;</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_item</span><span class="p">(</span><span class="n">item_name</span><span class="o">=</span><span class="s2">&quot;Cook&quot;</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># To Do App</span>
<span class="c1"># ├── School</span>
<span class="c1"># │   └── Homework 1</span>
<span class="c1"># ├── Groceries</span>
<span class="c1"># │   ├── Milk [description=Urgent]</span>
<span class="c1"># │   └── Bread [description=Urgent]</span>
<span class="c1"># └── General</span>
<span class="c1">#   └── Cook</span>

<span class="n">app</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;list.json&quot;</span><span class="p">)</span>
<span class="n">app2</span> <span class="o">=</span> <span class="n">AppToDo</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;list.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    

        

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.5.3',
            LANGUAGE:'Python',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sphinx_highlight.js"></script>
    <script type="text/javascript" src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js"></script>
    <script type="text/javascript" src="_static/twemoji.js"></script>
    <script type="text/javascript" src="_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright 2022, Kay Jan WONG.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.
        </div>
    </div>  

</body>
</html>